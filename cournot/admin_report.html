<script src="https://code.highcharts.com/highcharts.js"></script>

<table class="table">
    <tr>
        <th>Average units produced</th>
        <td>{{ avg_units }}</td>
    </tr>
    <tr>
        <th>Min units produced</th>
        <td>{{ min_units }}</td>
    </tr>
    <tr>
        <th>Max units produced</th>
        <td>{{ max_units }}</td>
    </tr>
</table>


<div id="highchart" style="width:100%; height:400px;"></div>

<script>
    let player_names = {{ player_names|json }}
    let player_profits = {{ player_profits|json }}

    document.addEventListener('DOMContentLoaded', function () {
        const chart = Highcharts.chart('highchart', {
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Profit for each player'
            },
            xAxis: {
                categories: player_names
            },
            yAxis: {
                title: {
                    text: 'Profit'
                }
            },
            series: [{
                name: 'Profit',
                data: player_profits
            }]
        });
    });
</script>
